{"version":3,"sources":["components/Header.js","components/Clock.js","components/ProgressBar.js","api/FakeTimeboxesApi.js","actions.js","components/CurrentTimebox.js","lib/time.js","components/Portal.js","components/TimeboxCreator.js","components/ModalDialog.js","components/FinishedTimeboxesList.js","components/TimeboxesList.js","components/Timebox.js","components/TimeboxEditor.js","components/EditableTimebox.js","components/SearchTimeboxes.js","components/TimeboxesManager.js","components/InspirationalQuote.js","components/UserGreeting.js","components/AuthenticatedApp.js"],"names":["Header","children","length","Error","className","Clock","minutes","seconds","style","defaultProps","ProgressBar","percent","big","color","progressClassName","classNames","width","timeboxes","id","title","totalTimeInMinutes","finished","findIndexByAnId","result","findIndex","timebox","FakeTimeboxesAPI","getAllTimeboxes","wait","addTimebox","timeboxToAdd","addedTimebox","uuid","v4","push","replaceTimebox","timeboxToReplace","index","replacedTimebox","removeTimebox","timeboxToRemove","splice","stopEditingTimebox","type","types","cancelTimeboxCreating","fetchAllTimeboxes","accessToken","dispatch","TimeboxesAPI","then","setTimeboxes","catch","error","setError","finally","removeTimeboxRemotely","removedTimebox","CurrentTimebox","props","state","isRunning","isPaused","isFinished","pausesCount","elapsedTimeInSeconds","handleStart","bind","handleStop","togglePause","intervalId","prevProps","prevState","this","onFinish","stopTimer","setState","startTimer","window","setInterval","totalTimeInSeconds","Math","min","clearInterval","durationInSeconds","onCancel","floor","minutesLeft","secondsLeft","progressInPercent","onClick","disabled","React","Component","connect","currentTimebox","getCurrentTimebox","getState","isAnyTimeboxCurrent","Portal","container","document","createElement","body","appendChild","removeChild","ReactDOM","createPortal","validate","values","errors","TimeboxCreator","onCreate","onClose","formik","useFormik","initialValues","onSubmit","resetForm","handleSubmit","htmlFor","name","onChange","handleChange","onBlur","handleBlur","value","touched","step","ModalDialog","backgroundColor","padding","getFinishedTimeboxes","map","key","TimeboxesList","renderTimebox","RemainingTimeboxesList","getRemainingTimeboxes","onDelete","onEdit","onMakeCurrent","TimeboxEditor","initialTitle","initialTotalTimeInMinutes","onUpdate","EditableTimebox","ownProps","isEdited","isTimeboxEdited","currentlyEditedTimeboxId","SearchTimeboxes","search","placeholder","TimeboxesManager","useDispatch","useContext","AuthenticationContext","timeboxesLoading","useSelector","areTimeboxesLoading","timeboxesLoadingError","getTimeboxesLoadingError","timeboxCreating","timeboxIsCreating","useEffect","e","payload","target","toLowerCase","searchInput","createdTimebox","console","log","updatedTimebox","timeboxToUpdate","InspirationalQuote","quote","Quotes","getQuote","text","author","UserGreeting","onLogout","Consumer","jwt","decode","email","getUserEmail","href","AuthenticatedApp"],"mappings":"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","file":"static/js/4.daf3f660.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\n\r\nfunction Header({ children }) {\r\n    if (children.length < 1) {\r\n        throw new Error(\"Header has to have at least one child!\")\r\n    }\r\n    return (\r\n        <header className=\"header\">\r\n            {children}\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nfunction Clock({ className, minutes, seconds }) {\r\n    return <h2 style={{}} className={\"Clock  \" + className}>Pozostało {minutes}:{seconds}</h2>\r\n}\r\nClock.defaultProps = {\r\n    className: \"\"\r\n}\r\nconst NumberOrStringType = PropTypes.oneOfType([PropTypes.number, PropTypes.string]);\r\nClock.propTypes = {\r\n    className: PropTypes.string.isRequired,\r\n    minutes: NumberOrStringType.isRequired,\r\n    seconds: NumberOrStringType.isRequired\r\n}\r\n\r\nexport default Clock;","import React from \"react\";\r\nimport classNames from \"classnames\";\r\n\r\nfunction ProgressBar({ className = \"\", percent = 33, big=false, color = null }) {\r\n    let progressClassName = classNames(\r\n        \"progress\",\r\n        className,\r\n        {\r\n            \"progress--big\": big,\r\n            \"progress--color-red\": color === \"red\"\r\n        }\r\n    );\r\n    return (\r\n        <div className={progressClassName}>\r\n            <div className=\"progress__bar\" style={{width: `${percent}%`}}></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ProgressBar;","import uuid from 'uuid';\nimport { wait } from './wait';\n\nconst timeboxes = [\n  {\n    id: 1,\n    title: 'Uczę się o promises',\n    totalTimeInMinutes: 25,\n    finished: false,\n  },\n  { id: 2, title: 'Poznaję REST API', totalTimeInMinutes: 10, finished: false },\n  {\n    id: 3,\n    title: 'Ćwiczę async/await',\n    totalTimeInMinutes: 15,\n    finished: false,\n  },\n  { id: 4, title: 'Uczę się fetch', totalTimeInMinutes: 5, finished: false },\n];\nfunction findIndexByAnId(id) {\n  const result = timeboxes.findIndex((timebox) => timebox.id === id);\n  if (result < 0) {\n    throw new Error('Timebox o podanym id nie istnieje');\n  }\n  return result;\n}\nconst FakeTimeboxesAPI = {\n  async getAllTimeboxes() {\n    await wait(200);\n    // console.log(\"GET all\", timeboxes);\n    return [...timeboxes];\n  },\n  async addTimebox(timeboxToAdd) {\n    await wait(200);\n    const addedTimebox = { ...timeboxToAdd, id: uuid.v4() };\n    timeboxes.push(addedTimebox);\n    // console.log(\"POST\", timeboxes);\n    return addedTimebox;\n  },\n  async replaceTimebox(timeboxToReplace) {\n    await wait(200);\n    if (!timeboxToReplace.id) {\n      throw new Error('Cannot replace timebox without an id.');\n    }\n    const index = findIndexByAnId(timeboxToReplace.id);\n    const replacedTimebox = { ...timeboxToReplace };\n    timeboxes[index] = replacedTimebox;\n    // console.log(\"PUT\", timeboxes);\n    return replacedTimebox;\n  },\n  async removeTimebox(timeboxToRemove) {\n    await wait(200);\n    if (!timeboxToRemove.id) {\n      throw new Error('Cannot remove timebox without an id.');\n    }\n    const index = findIndexByAnId(timeboxToRemove.id);\n    timeboxes.splice(index, 1);\n    // console.log(\"DELETE\", timeboxes);\n  },\n};\n\nexport default FakeTimeboxesAPI;\n","import TimeboxesAPI from './api/FakeTimeboxesApi';\nimport { isAnyTimeboxCurrent, getCurrentTimebox } from './reducers';\nimport * as types from './constants/types';\n\nexport const setTimeboxes = (timeboxes) => ({\n  type: types.TIMEBOXES_SET,\n  timeboxes,\n});\nexport const addTimebox = (timebox) => ({ type: types.TIMEBOX_ADD, timebox });\nexport const replaceTimebox = (replacedTimebox) => ({\n  type: types.TIMEBOX_REPLACE,\n  replacedTimebox,\n});\nexport const removeTimebox = (removedTimebox) => ({\n  type: types.TIMEBOX_REMOVE,\n  removedTimebox,\n});\nexport const setError = (error) => ({ type: types.ERROR_SET, error });\nexport const disableLoadingIndicator = () => ({\n  type: types.LOADING_INDICATOR_DISABLE,\n});\nexport const stopEditingTimebox = () => ({ type: types.TIMEBOX_EDIT_STOP });\nexport const startEditingTimebox = (currentlyEditedTimeboxId) => ({\n  type: types.TIMEBOX_EDIT_START,\n  currentlyEditedTimeboxId,\n});\nexport const makeTimeboxCurrent = (timebox) => ({\n  type: types.TIMEBOX_MAKE_CURRENT,\n  timebox,\n});\n\nexport const finishCurrentTimebox = () => (dispatch, getState) => {\n  //   if (isAnyTimeboxCurrent(getState())) {\n  //     dispatch(removeTimebox(getCurrentTimebox(getState())));\n  //   }\n  if (isAnyTimeboxCurrent(getState())) {\n    dispatch({\n      type: types.CURRENT_TIMEBOX_FINISH,\n      timebox: getCurrentTimebox(getState()),\n    });\n  }\n};\n\nexport const stopCurrentTimebox = () => ({\n  type: types.STOP_CURRENT_TIMEBOX,\n});\n\nexport const searchInput = (e) => ({\n  type: types.SEARCH_INPUT,\n  payload: e.target.value.toLowerCase(),\n});\nexport const setTimeboxCreating = () => ({\n  type: types.SET_TIMEBOX_CREATING,\n});\nexport const cancelTimeboxCreating = () => ({\n  type: types.CANCEL_TIMEBOX_CREATING,\n});\n\n// redux-thunk\nexport const fetchAllTimeboxes = (accessToken) => (dispatch) => {\n  TimeboxesAPI.getAllTimeboxes(accessToken)\n    .then((timeboxes) => dispatch(setTimeboxes(timeboxes)))\n    .catch((error) => dispatch(setError(error)))\n    .finally(() => dispatch(disableLoadingIndicator()));\n};\nexport const removeTimeboxRemotely = (timebox, accessToken) => (dispatch) => {\n  TimeboxesAPI.removeTimebox(timebox, accessToken).then(() => dispatch(removeTimebox(timebox)));\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport Clock from './Clock';\nimport ProgressBar from './ProgressBar';\nimport { getMinutesAndSecondsFromDurationInSeconds } from '../lib/time';\nimport { getCurrentTimebox } from '../reducers';\nimport { finishCurrentTimebox, stopCurrentTimebox } from '../actions';\n\nclass CurrentTimebox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isRunning: false,\n      isPaused: false,\n      isFinished: false,\n      pausesCount: 0,\n      elapsedTimeInSeconds: 0,\n    };\n    this.handleStart = this.handleStart.bind(this);\n    this.handleStop = this.handleStop.bind(this);\n    this.togglePause = this.togglePause.bind(this);\n    this.intervalId = null;\n  }\n  componentDidUpdate(prevProps, prevState) {\n    if (!prevState.isFinished && this.state.isFinished) {\n      this.props.onFinish();\n    }\n  }\n  componentWillUnmount() {\n    this.stopTimer();\n  }\n  handleStart() {\n    this.setState({\n      isRunning: true,\n    });\n    this.startTimer();\n  }\n  handleStop() {\n    this.setState({\n      isRunning: false,\n      isPaused: false,\n      pausesCount: 0,\n      elapsedTimeInSeconds: 0,\n    });\n    this.stopTimer();\n  }\n  startTimer() {\n    if (this.intervalId === null) {\n      this.intervalId = window.setInterval(() => {\n        this.setState((prevState) => {\n          const { totalTimeInMinutes } = this.props;\n          const totalTimeInSeconds = totalTimeInMinutes * 60;\n          const elapsedTimeInSeconds = Math.min(\n            prevState.elapsedTimeInSeconds + 0.1,\n            totalTimeInSeconds,\n          );\n          const isFinished = prevState.isFinished || elapsedTimeInSeconds >= totalTimeInSeconds;\n          if (isFinished) {\n            this.stopTimer();\n          }\n          const isRunning = prevState.isRunning && !isFinished;\n          const isPaused = prevState.isPaused && !isFinished;\n          return { elapsedTimeInSeconds, isFinished, isRunning, isPaused };\n        });\n      }, 100);\n    }\n  }\n  stopTimer() {\n    window.clearInterval(this.intervalId);\n    this.intervalId = null;\n  }\n  togglePause() {\n    this.setState((prevState) => {\n      const isPaused = !prevState.isPaused;\n      if (isPaused) {\n        this.stopTimer();\n      } else {\n        this.startTimer();\n      }\n      return {\n        isPaused,\n        pausesCount: isPaused ? prevState.pausesCount + 1 : prevState.pausesCount,\n      };\n    });\n  }\n\n  render() {\n    const { isFinished, isPaused, isRunning, pausesCount, elapsedTimeInSeconds } = this.state;\n    const { title, totalTimeInMinutes, onCancel } = this.props;\n    const totalTimeInSeconds = totalTimeInMinutes * 60;\n    const timeLeftInSeconds = totalTimeInSeconds - elapsedTimeInSeconds;\n    const [minutesLeft, secondsLeft] = getMinutesAndSecondsFromDurationInSeconds(timeLeftInSeconds);\n    const progressInPercent = (elapsedTimeInSeconds / totalTimeInSeconds) * 100.0;\n    return (\n      <div className=\"CurrentTimebox\">\n        <h1>{title}</h1>\n        <Clock minutes={minutesLeft} seconds={secondsLeft} className={isPaused ? 'inactive' : ''} />\n        <ProgressBar\n          percent={progressInPercent}\n          className={isPaused ? 'inactive' : ''}\n          color=\"red\"\n          big\n        />\n        <button onClick={this.handleStart} disabled={isRunning || isFinished}>\n          Start\n        </button>\n        <button onClick={this.handleStop} disabled={!isRunning}>\n          Stop\n        </button>\n        <button onClick={this.togglePause} disabled={!isRunning}>\n          {isPaused ? 'Wznów' : 'Pauzuj'}\n        </button>\n        Liczba przerw: {pausesCount}\n        <button onClick={onCancel}>reset</button>\n      </div>\n    );\n  }\n}\n\nfunction CurrentTimeboxOrNothing({ currentTimebox, onFinish, onCancel }) {\n  if (currentTimebox) {\n    const { title, totalTimeInMinutes } = currentTimebox;\n    return (\n      <CurrentTimebox\n        title={title}\n        totalTimeInMinutes={totalTimeInMinutes}\n        onFinish={onFinish}\n        onCancel={onCancel}\n      />\n    );\n  }\n  return null;\n}\n\nfunction mapStateToProps(state) {\n  const currentTimebox = getCurrentTimebox(state);\n\n  return {\n    currentTimebox,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    onFinish: () => dispatch(finishCurrentTimebox()),\n    onCancel: () => dispatch(stopCurrentTimebox()),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CurrentTimeboxOrNothing);\n","function getMinutesAndSecondsFromDurationInSeconds(durationInSeconds) {\r\n    const minutes = Math.floor(durationInSeconds / 60);\r\n    const seconds = Math.floor(durationInSeconds % 60);\r\n    return [minutes, seconds];\r\n}\r\n\r\nexport {\r\n    getMinutesAndSecondsFromDurationInSeconds\r\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nclass Portal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.container = document.createElement('div');\n  }\n  componentDidMount() {\n    document.body.appendChild(this.container);\n  }\n  componentWillUnmount() {\n    document.body.removeChild(this.container);\n  }\n  render() {\n    return ReactDOM.createPortal(this.props.children, this.container);\n  }\n}\n\nexport default Portal;\n","import React from 'react';\nimport { useFormik } from 'formik';\n\nconst validate = (values) => {\n  const errors = {};\n  if (!values.title) {\n    errors.title = 'Required';\n  } else if (values.title.length < 3) {\n    errors.title = 'Must be 3 characters or less';\n  }\n\n  if (!values.totalTimeInMinutes) {\n    errors.totalTimeInMinutes = 'Required';\n  } else if (values.totalTimeInMinutes <= 0) {\n    errors.totalTimeInMinutes = 'Must be greater than 0';\n  }\n\n  return errors;\n};\n\nconst TimeboxCreator = ({ onCreate, onClose }) => {\n  const formik = useFormik({\n    initialValues: {\n      title: '',\n      totalTimeInMinutes: '',\n      finished: false,\n    },\n    validate,\n    onSubmit: (values, { resetForm }) => {\n      onCreate(values);\n      resetForm();\n    },\n  });\n  return (\n    <form onSubmit={formik.handleSubmit} className=\"TimeboxCreator\">\n      <label htmlFor=\"title\">\n        Co robisz ?\n        <input\n          id=\"title\"\n          name=\"title\"\n          type=\"text\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          value={formik.values.title}\n        />\n      </label>\n      {formik.touched.title && formik.errors.title ? (\n        <div className=\"error\">{formik.errors.title}</div>\n      ) : null}\n      <br />\n      <label htmlFor=\"totalTimeInMinutes\">\n        Ile minut ?\n        <input\n          id=\"totalTimeInMinutes\"\n          name=\"totalTimeInMinutes\"\n          type=\"number\"\n          step=\"0.1\"\n          onChange={formik.handleChange}\n          onBlur={formik.handleBlur}\n          value={formik.values.totalTimeInMinutes}\n        />\n      </label>\n      {formik.touched.totalTimeInMinutes && formik.errors.totalTimeInMinutes ? (\n        <div className=\"error\">{formik.errors.totalTimeInMinutes}</div>\n      ) : null}\n      <br />\n      <button type=\"submit\">Zapisz</button>\n      <button onClick={onClose}>Anuluj</button>\n    </form>\n  );\n};\n\n// class TimeboxCreator extends React.Component {\n//   constructor(props) {\n//     super(props);\n//     this.titleInput = React.createRef();\n//     this.totalTimeInMinutesInput = React.createRef();\n//   }\n//   handleSubmit = (event) => {\n//     event.preventDefault();\n//     this.props.onCreate({\n//       title: this.titleInput.current.value,\n//       totalTimeInMinutes: this.totalTimeInMinutesInput.current.value,\n//       finished: false,\n//     });\n//     this.titleInput.current.value = \"\";\n//     this.totalTimeInMinutesInput.current.value = \"\";\n//   };\n\n//   render() {\n//     return (\n//       <form onSubmit={this.handleSubmit} className=\"TimeboxCreator\">\n//         <label>\n//           Co robisz?\n//           <input ref={this.titleInput} type=\"text\" />\n//         </label>\n//         <br />\n//         <label>\n//           Ile minut?\n//           <input ref={this.totalTimeInMinutesInput} type=\"number\" step=\"0.01\" />\n//         </label>\n//         <br />\n//         <button>Dodaj timebox</button>\n//       </form>\n//     );\n//   }\n// }\n\nexport default TimeboxCreator;\n","import React from 'react';\nimport Portal from './Portal';\nimport TimeboxCreator from './TimeboxCreator';\n\nfunction ModalDialog({ onClose, children, onCreate }) {\n  return (\n    <Portal>\n      <div className=\"modal\">\n        <div\n          style={{\n            backgroundColor: 'orangered',\n            padding: 40,\n          }}\n        >\n          {children}\n          <h2 className=\"title\">Dodanie timeboxa</h2>\n          <TimeboxCreator onCreate={onCreate} onClose={onClose} />\n        </div>\n      </div>\n    </Portal>\n  );\n}\n\nexport default ModalDialog;\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getFinishedTimeboxes } from \"../reducers\";\r\n\r\nfunction FinishedTimeboxesList({ timeboxes }) {\r\n  return (\r\n    <>\r\n      {timeboxes.map(({ id, title, totalTimeInMinutes }) => (\r\n        <div className=\"TimeboxFinished\" key={id}>\r\n          <h3>\r\n            {title} - {totalTimeInMinutes} min.\r\n          </h3>\r\n        </div>\r\n      ))}\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  const timeboxes = getFinishedTimeboxes(state);\r\n  // console.log(timeboxes);\r\n  return { timeboxes };\r\n};\r\n\r\nexport default connect(mapStateToProps)(FinishedTimeboxesList);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getAllTimeboxes, getRemainingTimeboxes } from \"../reducers\";\r\n\r\nexport function TimeboxesList({ timeboxes, renderTimebox }) {\r\n    return <div className=\"TimeboxesList\">{timeboxes.map(renderTimebox)}</div>;\r\n}\r\n\r\nexport const AllTimeboxesList = connect(\r\n    (state) => ({ timeboxes: getAllTimeboxes(state)})\r\n)(TimeboxesList);\r\n\r\n\r\nexport const RemainingTimeboxesList = connect(\r\n    (state) => ({ timeboxes: getRemainingTimeboxes(state)})\r\n)(TimeboxesList);","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { getCurrentTimebox } from \"../reducers\";\r\n\r\nfunction mapStateToProps(state) {\r\n  const currentTimebox = getCurrentTimebox(state);\r\n\r\n  return {\r\n    currentTimebox,\r\n  };\r\n}\r\n\r\nfunction Timebox({\r\n  title,\r\n  totalTimeInMinutes,\r\n  onDelete,\r\n  onEdit,\r\n  onMakeCurrent,\r\n  currentTimebox,\r\n}) {\r\n  return (\r\n    <div className=\"Timebox\">\r\n      <h3>\r\n        {title} - {totalTimeInMinutes} min.\r\n      </h3>\r\n      <button disabled={currentTimebox} onClick={onDelete}>\r\n        Usuń\r\n      </button>\r\n      <button disabled={currentTimebox} onClick={onEdit}>\r\n        Zmień\r\n      </button>\r\n      <button onClick={onMakeCurrent}>\r\n        Zacznij teraz\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default connect(mapStateToProps)(Timebox);\r\n","/* eslint-disable jsx-a11y/anchor-is-valid */\r\nimport React from \"react\";\r\nimport { useFormik } from \"formik\";\r\n\r\nconst validate = (values) => {\r\n  const errors = {};\r\n  if (!values.title) {\r\n    errors.title = \"Required\";\r\n  } else if (values.title.length < 3) {\r\n    errors.title = \"Must have  min 3 characters\";\r\n  }\r\n\r\n  if (!values.totalTimeInMinutes) {\r\n    errors.totalTimeInMinutes = \"Required\";\r\n  } else if (values.totalTimeInMinutes <= 0) {\r\n    errors.totalTimeInMinutes = \"Must be more than 0\";\r\n  }\r\n\r\n  return errors;\r\n};\r\n\r\nconst TimeboxEditor = ({\r\n  initialTitle,\r\n  initialTotalTimeInMinutes,\r\n  onCancel,\r\n  onUpdate,\r\n}) => {\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      title: initialTitle,\r\n      totalTimeInMinutes: initialTotalTimeInMinutes,\r\n    },\r\n    validate,\r\n    onSubmit: (values) => {\r\n      onUpdate(values);\r\n    },\r\n  });\r\n  return (\r\n    <form onSubmit={formik.handleSubmit} className=\"TimeboxEditor\">\r\n      <label htmlFor=\"title\">\r\n        Co robisz ?\r\n        <input\r\n          id=\"title\"\r\n          name=\"title\"\r\n          type=\"text\"\r\n          onChange={formik.handleChange}\r\n          onBlur={formik.handleBlur}\r\n          value={formik.values.title}\r\n        />\r\n      </label>\r\n      {formik.errors.title ? (\r\n        <div className=\"error\">{formik.errors.title}</div>\r\n      ) : null}\r\n      <br />\r\n      <label htmlFor=\"totalTimeInMinutes\">\r\n        Ile minut ?\r\n        <input\r\n          id=\"totalTimeInMinutes\"\r\n          name=\"totalTimeInMinutes\"\r\n          type=\"number\"\r\n          step=\"0.1\"\r\n          onChange={formik.handleChange}\r\n          onBlur={formik.handleBlur}\r\n          value={formik.values.totalTimeInMinutes}\r\n        />\r\n      </label>\r\n      {formik.errors.totalTimeInMinutes ? (\r\n        <div className=\"error\">{formik.errors.totalTimeInMinutes}</div>\r\n      ) : null}\r\n      <br />\r\n      <button onClick={onCancel}>Anuluj</button>\r\n      <button type=\"submit\">Submit</button>\r\n    </form>\r\n  );\r\n};\r\n\r\n// class TimeboxEditor extends React.Component {\r\n//     constructor(props) {\r\n//         super(props);\r\n//         this.titleInput = React.createRef();\r\n//         this.totalTimeInMinutesInput = React.createRef();\r\n//     }\r\n//     handleSubmit = (event) => {\r\n//         event.preventDefault();\r\n//         this.props.onUpdate({\r\n//             title: this.titleInput.current.value,\r\n//             totalTimeInMinutes: this.totalTimeInMinutesInput.current.value\r\n//         });\r\n//         this.resetToInitialValues();\r\n//     }\r\n//     handleCancel = () => {\r\n//         this.resetToInitialValues();\r\n//         this.props.onCancel();\r\n//     }\r\n//     resetToInitialValues() {\r\n//         this.titleInput.current.value = this.props.initialTitle;\r\n//         this.totalTimeInMinutesInput.current.value = this.props.initialTotalTimeInMinutes;\r\n//     }\r\n\r\n//     render() {\r\n//         return (\r\n//             <form onSubmit={this.handleSubmit} className=\"TimeboxEditor\">\r\n//                 <label>\r\n//                     Co robisz?\r\n//                     <input\r\n//                         ref={this.titleInput}\r\n//                         defaultValue={this.props.initialTitle}\r\n//                         type=\"text\"\r\n//                     />\r\n//                 </label><br/>\r\n//                 <label>\r\n//                     Ile minut?\r\n//                     <input\r\n//                         ref={this.totalTimeInMinutesInput}\r\n//                         defaultValue={this.props.initialTotalTimeInMinutes}\r\n//                         type=\"number\"\r\n//                         step=\"0.01\"\r\n//                     />\r\n//                 </label><br />\r\n//                 <a onClick={this.handleCancel}>Anuluj</a>\r\n//                 <button\r\n//                 >Zapisz zmiany</button>\r\n//             </form>\r\n//         )\r\n//     }\r\n// }\r\n\r\nexport default TimeboxEditor;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Timebox from \"./Timebox\";\r\nimport TimeboxEditor from \"./TimeboxEditor\";\r\nimport { isTimeboxEdited } from \"../reducers\";\r\nimport {\r\n  startEditingTimebox,\r\n  stopEditingTimebox,\r\n  makeTimeboxCurrent,\r\n} from \"../actions\";\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  isEdited: isTimeboxEdited(state, ownProps.timebox),\r\n});\r\nconst mapDispatchToProps = (dispatch, ownProps) => {\r\n  const onEdit = () => dispatch(startEditingTimebox(ownProps.timebox.id));\r\n  const onCancel = () => dispatch(stopEditingTimebox());\r\n  const onMakeCurrent = () => dispatch(makeTimeboxCurrent(ownProps.timebox));\r\n\r\n  return { onEdit, onCancel, onMakeCurrent };\r\n};\r\nexport const EditableTimebox = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(function EditableTimebox({\r\n  timebox,\r\n  isEdited,\r\n  onEdit,\r\n  onCancel,\r\n  onUpdate,\r\n  onDelete,\r\n  onMakeCurrent,\r\n}) {\r\n  return (\r\n    <>\r\n      {isEdited ? (\r\n        <TimeboxEditor\r\n          initialTitle={timebox.title}\r\n          initialTotalTimeInMinutes={timebox.totalTimeInMinutes}\r\n          onCancel={onCancel}\r\n          onUpdate={onUpdate}\r\n        />\r\n      ) : (\r\n        <Timebox\r\n          key={timebox.id}\r\n          title={timebox.title}\r\n          totalTimeInMinutes={timebox.totalTimeInMinutes}\r\n          onDelete={onDelete}\r\n          onEdit={onEdit}\r\n          onMakeCurrent={onMakeCurrent}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n});\r\n","import React from \"react\";\r\n\r\nfunction SearchTimeboxes({ search }) {\r\n  return (\r\n    <div className=\"TimeboxSearch\">\r\n      <input type=\"text\" placeholder=\"search timeboxes\" onChange={search} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchTimeboxes;\r\n","import React, { useEffect, useContext } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ModalDialog from './ModalDialog';\nimport TimeboxesAPI from '../api/FakeTimeboxesApi';\nimport AuthenticationContext from '../contexts/AuthenticationContext';\nimport FinishedTimeboxesList from './FinishedTimeboxesList';\nimport { RemainingTimeboxesList } from './TimeboxesList';\n// import ReadOnlyTimebox from \"./ReadOnlyTimebox\";\nimport { areTimeboxesLoading, getTimeboxesLoadingError, timeboxIsCreating } from '../reducers';\nimport {\n  fetchAllTimeboxes,\n  addTimebox,\n  replaceTimebox,\n  removeTimeboxRemotely,\n  stopEditingTimebox,\n  searchInput,\n  setTimeboxCreating,\n  cancelTimeboxCreating,\n} from '../actions';\nimport { EditableTimebox } from './EditableTimebox';\nimport SearchTimeboxes from './SearchTimeboxes';\n\nfunction TimeboxesManager() {\n  const dispatch = useDispatch();\n  const { accessToken } = useContext(AuthenticationContext);\n\n  const timeboxesLoading = useSelector(areTimeboxesLoading);\n  const timeboxesLoadingError = useSelector(getTimeboxesLoadingError);\n  const timeboxCreating = useSelector(timeboxIsCreating);\n\n  useEffect(() => {\n    dispatch(fetchAllTimeboxes(accessToken));\n  }, [accessToken, dispatch]);\n\n  const handleCreate = (createdTimebox) => {\n    try {\n      TimeboxesAPI.addTimebox(createdTimebox, accessToken).then(\n        (addedTimebox) => dispatch(addTimebox(addedTimebox)),\n        dispatch(cancelTimeboxCreating()),\n      );\n    } catch (error) {\n      console.log('Jest błąd przy tworzeniu timeboxa:', error);\n    }\n  };\n  const renderTimebox = (timebox) => {\n    const onUpdate = (updatedTimebox) => {\n      const timeboxToUpdate = { ...timebox, ...updatedTimebox };\n      TimeboxesAPI.replaceTimebox(timeboxToUpdate, accessToken).then((replacedTimebox) =>\n        dispatch(replaceTimebox(replacedTimebox)),\n      );\n      dispatch(stopEditingTimebox());\n    };\n    const onDelete = () => dispatch(removeTimeboxRemotely(timebox, accessToken));\n\n    return (\n      <EditableTimebox key={timebox.id} timebox={timebox} onUpdate={onUpdate} onDelete={onDelete} />\n    );\n  };\n  // function renderReadOnlyTimebox(timebox, index) {\n  //   return (\n  //     <ReadOnlyTimebox\n  //       key={timebox.id}\n  //       title={timebox.title}\n  //       totalTimeInMinutes={timebox.totalTimeInMinutes}\n  //     />\n  //   );\n  // }\n  return (\n    <>\n      <SearchTimeboxes search={(e) => dispatch(searchInput(e))} />\n      {timeboxCreating ? (\n        <ModalDialog onClose={() => dispatch(cancelTimeboxCreating())} onCreate={handleCreate} />\n      ) : (\n        //   <TimeboxCreator  />\n        // </ModalDialog>\n        <button className=\"addButton\" onClick={() => dispatch(setTimeboxCreating())}>\n          +\n        </button>\n      )}\n      {timeboxesLoading ? 'Timeboxy się ładują...' : null}\n      {timeboxesLoadingError ? 'Nie udało się załadować :(' : null}\n      <RemainingTimeboxesList renderTimebox={renderTimebox} />\n      <FinishedTimeboxesList />\n    </>\n  );\n}\n\nexport default TimeboxesManager;\n","import React from 'react';\n\nclass InspirationalQuote extends React.Component {\n  state = {\n    quote: null,\n  };\n  componentDidMount() {\n    import('inspirational-quotes')\n      .then((Quotes) => {\n        this.setState({ quote: Quotes.getQuote() });\n      })\n      .catch(() => console.log(\"Couldn't load quotes\"));\n  }\n  render() {\n    return (\n      <>\n        {this.state.quote ? (\n          <figure className=\"quote\">\n            <blockquote>{this.state.quote.text}</blockquote>\n            <figcaption>\n              <cite>{this.state.quote.author}</cite>\n            </figcaption>\n          </figure>\n        ) : (\n          '...'\n        )}\n      </>\n    );\n  }\n}\n\nexport default InspirationalQuote;\n","import React from \"react\";\r\nimport jwt from \"jsonwebtoken\";\r\nimport AuthenticationContext from \"../contexts/AuthenticationContext\";\r\n\r\nfunction getUserEmail(accessToken) {\r\n  const decodedToken = jwt.decode(accessToken);\r\n  return decodedToken.email;\r\n}\r\n\r\nfunction UserGreeting({ onLogout }) {\r\n  return (\r\n    <AuthenticationContext.Consumer>\r\n      {({ accessToken }) => (\r\n        <>\r\n          Witaj {getUserEmail(accessToken)} /{\" \"}\r\n          <a href=\"#\" className=\"header__logout-link\" onClick={onLogout}>\r\n            wyloguj się\r\n          </a>\r\n        </>\r\n      )}\r\n    </AuthenticationContext.Consumer>\r\n  );\r\n}\r\n\r\nexport default UserGreeting;\r\n\r\n\r\n","import React from 'react';\nimport Header from './Header';\nimport CurrentTimebox from './CurrentTimebox';\nimport TimeboxesManager from './TimeboxesManager';\nimport InspirationalQuote from './InspirationalQuote';\nimport UserGreeting from './UserGreeting';\n\nfunction AuthenticatedApp({ onLogout }) {\n  return (\n    <>\n      <Header>\n        <UserGreeting onLogout={onLogout} />\n      </Header>\n      <TimeboxesManager />\n      <CurrentTimebox />\n      <InspirationalQuote />\n    </>\n  );\n}\n\nexport default AuthenticatedApp;\n"],"sourceRoot":""}